# Rust FTP Server

一个使用 Rust 编写的轻量级 FTP 服务器，支持文件上传与下载，并提供简单的认证和权限控制。

## 构建与运行

```bash
cargo run --release -- --port 2121 --path .
```

参数说明：

- `--port <端口>`：FTP 控制连接监听端口，默认 `2121`。
- `--user <用户名>`：登录用户名，默认 `anonymous`。
- `--pass <密码>`：登录密码，默认空字符串。
- `--path <目录>`：FTP 根目录，缺省为当前工作目录。

当用户名仍为默认的 `anonymous` 时，服务器以匿名模式运行，仅允许下载与列目录；指定其他用户名后，登录用户拥有读写权限，可进行上传。

## 功能特性

- 支持基础命令：`USER`、`PASS`、`PASV`、`LIST`、`RETR`、`STOR`、`CWD`、`PWD`、`SIZE` 等。
- 仅实现被动模式（PASV），便于在防火墙后部署。
- 限制活动路径在指定根目录内，避免越权访问。
- ASCII/Binary 传输模式开关（`TYPE A` / `TYPE I`）。

## 注意事项

- 服务器当前仅支持 IPv4 控制连接。
- `LIST` 命令返回的目录格式为简化版，仅包含基础信息。
- 在匿名模式下不允许写操作；如需上传请指定自定义用户名与密码。

